@media (max-width: 600px) {
	.card-info-social-icons .social-icon,
	.card-info-social-icons .social-icon.contact-btn,
	.card-info-social-icons a.contact-btn.social-icon {
		font-size: 16px !important;
		padding: 12px 18px !important;
		height: 48px !important;
		min-width: 120px !important;
		border-radius: 16px !important;
		gap: 10px !important;
		box-shadow: 0 4px 18px rgba(43,138,229,0.10) !important;
	}
	.card-info-social-icons .social-icon .social-link-text {
		font-size: 18px !important;
		margin-left: 8px !important;
		font-weight: 500 !important;
		letter-spacing: 0.02em !important;
	}
	.card-info-social-icons .social-icon i {
		font-size: 20px !important;
		margin-right: 8px !important;
	}
}

/* Gradient text utility for colorful headings */
.gradient-text {
	background: linear-gradient(90deg, #90caf9, #64b5f6, #1976d2, #90caf9);
	background-size: 200% 200%;
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
	color: transparent;
	display: inline-block;
	-webkit-animation: gradientShift 3s linear infinite;
	animation: gradientShift 3s linear infinite;
}

@keyframes gradientShift {
	0% { background-position: 0% 50%; }
	50% { background-position: 100% 50%; }
	100% { background-position: 0% 50%; }
}

@-webkit-keyframes gradientShift {
	0% { background-position: 0% 50%; }
	50% { background-position: 100% 50%; }
	100% { background-position: 0% 50%; }
}

/* In dark mode, slightly increase contrast and add a subtle text-shadow to improve readability */
body.dark .gradient-text {
	filter: brightness(1.05);
	text-shadow: 0 1px 2px rgba(0,0,0,0.35);
}
/* Overrides to replace inline styles moved from JS/HTML */
.focus-title-error{ color: #f44336; }

/* Ensure webinfo items render in a tidy two-column style */
.webinfo{ display:flex; flex-direction:column; gap:6px; }
.webinfo-item{ display:flex; align-items:center; justify-content:space-between; }
.webinfo-site-name{ font-size:13px; color:#666; }
.webinfo-site-lastmodified{ font-size:13px; color:#222; text-align:right; }
.webinfo-site-pv-count{ font-size:13px; color:#222; }

/* Classes used in docs to replace inline color attributes */
.doc-inline-green { color: green; font-weight: 700; }
.doc-inline-blue { color: blue; font-weight: 700; text-decoration: underline; }
.doc-inline-gold { color: darkgoldenrod; font-weight: 700; }

/* Fullscreen site loader styles */
.site-loader{
	position:fixed;
	#refreshBtn{
		position: fixed !important;
		left: 24px !important;
		top: 72px !important; /* 位于顶部导航下方，避免遮挡 */
		z-index: 100000 !important;
		display: inline-flex !important;
		align-items: center !important;
		justify-content: center !important;
		min-width: 150px !important;
		height: 48px !important;
		padding: 12.5px 30px !important;
		border: 0 !important;
		border-radius: 100px !important;
		/* 默认为蓝色渐变（未悬停也为蓝） */
		background: linear-gradient(180deg,#2ba8fb,#1f6fc4) !important;
		color: #ffffff !important;
		font-weight: 700 !important;
		-webkit-transition: all 0.5s !important;
		transition: all 0.5s !important;
		box-shadow: 0 12px 34px rgba(43,138,229,0.12) !important;
	}

	#refreshBtn:hover{
		background-color: #6fc5ff !important;
		box-shadow: 0 0 20px #6fc5ff50 !important;
		transform: scale(1.06) !important;
	}

	#refreshBtn:active{
		background-color: #3d94cf !important;
		-webkit-transition: all 0.25s !important;
		transition: all 0.25s !important;
		box-shadow: none !important;
		transform: scale(0.98) !important;
	}
	.card-info-social-icons .social-icon{
	padding:2px 8px;
	border-radius: 8px;
	font-size: 13px;
	min-width: 0;
	height: 32px;
	line-height: 1.2;
	gap: 4px;
	box-shadow: none;
	background: #f7fafd;
	border: 1px solid #e3eaf2;
	transition: background 0.18s, border 0.18s;
}
	.card-info-social-icons .social-icon .social-link-text{
	white-space:nowrap !important;
	line-height:1 !important;
	font-size:12px !important;
	margin-left:6px !important;
	display:inline-block !important;
	vertical-align:middle !important;
	}
	.card-info-social-icons .social-icon .social-link-text{
		max-width: 90px !important;
		overflow: hidden !important;
		text-overflow: ellipsis !important;
	}
	.card-info-social-icons .social-icon i{
	margin-right:4px;
	font-size:16px;
}
	.contact-btn{ padding:4px 10px; }
}

/* Fullscreen loader: centered progress bar style (override / improve the simple spinner) */
#site-loader.site-loader{
	position: fixed !important;
	inset: 0 !important;
	display: flex !important;
	align-items: center !important;
	justify-content: center !important;
	background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(250,250,250,0.98));
	z-index: 99999 !important;
	transition: opacity 360ms ease, visibility 360ms ease;
}
#site-loader.site-loader.hidden{ opacity: 0 !important; visibility: hidden !important; pointer-events: none !important; }
#site-loader .loader-inner{ width: min(520px, 86%); max-width: 520px; padding: 36px 32px; box-sizing: border-box; text-align:center; border-radius:18px; background: rgba(255,255,255,0.85); -webkit-backdrop-filter: blur(12px); backdrop-filter: blur(12px); display:flex; flex-direction:column; align-items:center; gap:18px; box-shadow: 0 18px 48px rgba(31,111,196,0.14); }
#site-loader .loader-text{ color:#546079; font-size:16px; letter-spacing:0.5px; }
#site-loader .loader-spinner{ display:inline-flex !important; width:68px; height:68px; border-radius:50%; border:5px solid rgba(111,197,255,0.26); border-top-color:#2ba8fb; border-right-color:#2ba8fb; animation: loader-spin 840ms linear infinite; }
#site-loader .loader-percent{ font-size:28px; font-weight:700; color:#2ba8fb; text-shadow: 0 2px 6px rgba(43,168,251,0.24); }

@keyframes loader-spin{
	from{ transform: rotate(0deg); }
	to{ transform: rotate(360deg); }
}

/* Mobile submenu pop animation: smooth slide+fade for nested ULs */
@media (max-width: 768px) {
	/* Ensure menu uses visibility/opacity/transform for transitions (avoid display:none toggles on Edge) */
	.nav-menu{
		display:flex !important;
		visibility: hidden !important;
		opacity: 0 !important;
		transform: translateX(-50%) translateY(-6px) !important;
		pointer-events: none !important;
		transition: opacity 240ms ease, transform 240ms ease, visibility 0s linear 240ms;
	}

	.nav-menu.open{
		visibility: visible !important;
		opacity: 1 !important;
		transform: translateX(-50%) translateY(0) !important;
		pointer-events: auto !important;
		transition-delay: 0s !important;
	}
	/* Make submenu container animate with transform and opacity */
	.nav-menu li ul{
		transition: max-height 260ms ease, opacity 220ms ease, transform 220ms cubic-bezier(.2,.9,.2,1);
		transform-origin: top left;
		transform: translateY(-6px) scaleY(0.98);
		opacity: 0;
	}

	.nav-menu li.submenu-open > ul{
		transform: translateY(0) scaleY(1);
		opacity: 1;
	}

		/* Use transition-based staggered fade/slide for submenu items */
		.nav-menu li ul li{
			opacity: 0;
			transform: translateY(-6px);
			transition: opacity 220ms ease, transform 220ms cubic-bezier(.2,.9,.2,1);
		}
		.nav-menu li.submenu-open > ul li{ opacity: 1; transform: translateY(0); }

		/* Stagger using nth-child delays (simple, up to 8 items) */
		.nav-menu li.submenu-open > ul li:nth-child(1){ transition-delay: 40ms; }
		.nav-menu li.submenu-open > ul li:nth-child(2){ transition-delay: 80ms; }
		.nav-menu li.submenu-open > ul li:nth-child(3){ transition-delay: 120ms; }
		.nav-menu li.submenu-open > ul li:nth-child(4){ transition-delay: 160ms; }
		.nav-menu li.submenu-open > ul li:nth-child(5){ transition-delay: 200ms; }
		.nav-menu li.submenu-open > ul li:nth-child(6){ transition-delay: 240ms; }
		.nav-menu li.submenu-open > ul li:nth-child(7){ transition-delay: 280ms; }
		.nav-menu li.submenu-open > ul li:nth-child(8){ transition-delay: 320ms; }
}

/* 强制底部服务条款为蓝色并去掉下划线 */
.copyright a.force-blue,
.copyright a.force-blue:visited{
    color: #2b8ae5 !important;
    text-decoration: none !important;
}
.copyright a.force-blue:hover,
.copyright a.force-blue:focus{
    color: #1f6fc4 !important;
    text-decoration: none !important;
}

/* 头像左上角的夜/日 切换按钮样式（已移除，保留注释以便日后恢复）
.card-info-avatar{ position: relative; }
.avatar-theme-toggle{
	position: absolute;
	left: 14px;
	top: 12px;
	width:44px;
	height:24px;
	border-radius:14px;
	border: none;
	background: #e6e6e6;
	display:inline-flex;
	align-items:center;
	justify-content:flex-start;
	padding:2px;
	cursor:pointer;
	transition: background-color 220ms ease, box-shadow 220ms ease;
}
.avatar-theme-toggle .switch-track{ display:block; width:100%; height:100%; position:relative; }
.avatar-theme-toggle .switch-knob{ position:absolute; left:2px; top:2px; width:20px; height:20px; border-radius:50%; background:#fff; display:flex; align-items:center; justify-content:center; box-shadow:0 1px 3px rgba(0,0,0,0.12); transition:left 200ms cubic-bezier(.22,.9,.29,1), background-color 180ms ease, transform 200ms ease; }
.avatar-theme-toggle .switch-knob i{ font-size:12px; color:#333; transition: transform 200ms cubic-bezier(.22,.9,.29,1), color 180ms ease; }
.avatar-theme-toggle.is-on{ background:#4cd964; }
.avatar-theme-toggle.is-on .switch-knob{ left: calc(100% - 24px); background:#fff; }
.avatar-theme-toggle.is-on .switch-knob i{ color:#4cd964; transform: rotate(0deg) scale(1); }
*/

/* 页面颜色主题过渡（背景/文字）—放慢节奏并使用与按钮一致的曲线 */
body, html{
	transition:
		background-color 1000ms cubic-bezier(0.56, 1.35, 0.52, 1.00),
		color            1000ms cubic-bezier(0.56, 1.35, 0.52, 1.00),
		background       1000ms cubic-bezier(0.56, 1.35, 0.52, 1.00);
}
body.dark, html.dark{
	transition:
		background-color 1000ms cubic-bezier(0.56, 1.35, 0.52, 1.00),
		color            1000ms cubic-bezier(0.56, 1.35, 0.52, 1.00),
		background       1000ms cubic-bezier(0.56, 1.35, 0.52, 1.00);
}

/* 更平滑的卡片样式过渡（统一曲线和更长时长） */
.card-widget, .card-content, .author-info__name, .author-info__description{
	transition:
		background-color 1000ms cubic-bezier(0.56, 1.35, 0.52, 1.00),
		color            1000ms cubic-bezier(0.56, 1.35, 0.52, 1.00),
		box-shadow        300ms ease,
		border-color     600ms cubic-bezier(0.56, 1.35, 0.52, 1.00),
		background        1000ms cubic-bezier(0.56, 1.35, 0.52, 1.00);
}

@media (max-width:420px){
	.avatar-theme-toggle{ left:6px; top:6px; width:40px; height:22px; padding:2px; }
	.avatar-theme-toggle .switch-knob{ width:18px; height:18px; left:2px; top:2px; }
}

/* Refresh button: 重新设计以匹配页面风格，但保留旋转动画（圆角卡片风） */
.refresh-btn{
	--btn-bg: linear-gradient(180deg, #ffffff, #f6fbff);
	--btn-border: rgba(43,138,229,0.12);
	--accent: #1f6fc4;
	display:inline-flex;
	align-items:center;
	gap:12px;
	padding:10px 14px;
	background:var(--btn-bg);
	border:1px solid var(--btn-border);
	color:var(--accent);
	border-radius:14px;
	font-weight:700;
	cursor:pointer;
	position:relative;
	box-shadow: 0 10px 30px rgba(12,24,40,0.06);
	transition: transform 180ms ease-out, box-shadow 180ms ease-out, background 180ms ease;
	-webkit-user-select: none;
	user-select:none;
}
.refresh-btn:focus{ outline: none; box-shadow: 0 10px 28px rgba(31,111,196,0.14); transform: translateY(-1px); }
.refresh-btn:hover{ transform: translateY(-4px); box-shadow: 0 18px 48px rgba(12,24,40,0.12); }

/* 图标旋转（可在触发刷新时添加 .is-spinning 类来启动动画） */
.refresh-btn__icon{ display:inline-flex; align-items:center; justify-content:center; width:36px; height:36px; border-radius:10px; background:transparent; box-shadow:none; }
.refresh-btn__icon .svg{ display:block; width:18px; height:18px; transition: transform 360ms ease-out; color:var(--accent); }
.refresh-btn.is-spinning .refresh-btn__icon .svg{ animation: spin 720ms linear infinite; transform-origin: 50% 50%; }

/* 固定在左上角（位于导航下方），使用 Uiverse 风格的圆角按钮样式 */

#refreshBtn{
	position: fixed !important;
	left: 24px !important;
	top: 72px !important;
	z-index: 100000 !important;
	display: inline-flex !important;
	align-items: center !important;
	justify-content: center !important;
	/* 缩小尺寸以更紧凑 */
	min-width: 120px !important;
	height: 40px !important;
	padding: 8px 18px !important;
	border: 0 !important;
	border-radius: 100px !important;
	background: linear-gradient(180deg,#2ba8fb,#1f6fc4) !important;
	color: #ffffff !important;
	font-weight: 700 !important;
	font-size: 13px !important;
	-webkit-transition: all 220ms ease !important;
	transition: all 220ms ease !important;
	box-shadow: 0 8px 24px rgba(43,138,229,0.12) !important;
}

#refreshBtn:hover{
	background-color: #6fc5ff !important;
	/* 更强的阴影与柔和外发光 */
	box-shadow: 0 18px 48px rgba(43,138,229,0.18) , 0 0 28px rgba(111,197,255,0.18) !important;
	transform: translateY(-2px) scale(1.04) !important;
}

#refreshBtn:active{
	background-color: #3d94cf !important;
	-webkit-transition: all 0.25s !important;
	transition: all 0.25s !important;
	box-shadow: none !important;
	transform: scale(0.98) !important;
}

/* 确保文本与图标在彩色背景下可见，并强制文本居中 */
#refreshBtn .refresh-btn__text{ color: #fff !important; transform: none !important; margin:0 !important; padding:0 !important; display:inline-flex !important; align-items:center !important; justify-content:center !important; }
#refreshBtn .refresh-btn__icon{ position: relative !important; transform: none !important; width: 24px !important; height: 24px !important; margin-left:10px !important; }
#refreshBtn .refresh-btn__icon .svg{ width:20px !important; height:20px !important; fill: #fff !important; stroke: #fff !important; }

/* 强制缩小用户信息区的联系按钮（提高选择器优先级以覆盖模板默认样式） */
.card-info-social-icons .social-icon.contact-btn,
.card-info-social-icons a.contact-btn.social-icon {
	padding: 6px 10px !important;
	height: 36px !important;
	min-width: 80px !important;
		border-radius: 12px !important;
	background: #fff !important;
	border: 1px solid rgba(43,138,229,0.08) !important;
	box-shadow: 0 6px 18px rgba(12,24,40,0.04) !important;
	font-size: 13px !important;
	display: inline-flex !important;
	align-items: center !important;
	gap: 8px !important;
	justify-content: center !important;
}

/* 磁盘条调整：每个盘独立条目，增加间距并显示盘符 */
.disk-entry{ 
	margin: 10px 0; /* 上下间距 */
}
.disk-letter{
	display:inline-block;
	width:28px;
	font-weight:700;
	margin-right:4px;
	color:var(--accent, #1976d2);
	text-align:left;
}

/* 在较小屏幕上稍微减小盘符宽度，避免换行 */
@media (max-width: 480px){
	.disk-letter{ width:22px; margin-right:2px; }
}

/* 磁盘标题行：盘符与名称同一行显示且不换行 */
.disk-header{
	display:inline-flex;
	align-items:center;
	justify-content:center;
	gap:4px;
	white-space:nowrap; /* 禁止换行 */
	width:100%;
	margin-bottom:4px;
}
.disk-header #diskName, .disk-header #diskNameD{
	display:inline-block;
}
/* override legacy .contact-btn pill style */
.card-info-social-icons .social-icon.contact-btn.contact-btn,
.card-info-social-icons a.contact-btn.social-icon.contact-btn{
	border-radius:12px !important;
	padding:6px 10px !important;
}
.card-info-social-icons .social-icon.contact-btn i{ font-size:16px !important; margin-right:6px !important; }
.card-info_social-icons .social-icon.contact-btn .social-link-text{ white-space:nowrap !important; line-height:1 !important; }

/* 小屏时减小按钮宽度 */
@media (max-width:420px){
	.card-info-social-icons .social-icon.contact-btn{ min-width: 68px !important; height:34px !important; padding:6px 8px !important; }
	.card-info-social-icons .social-icon .social-link-text{ font-size:11px !important; margin-left:4px !important; }
	.card-info-social-icons .social-icon i{ font-size:14px !important; }
}

/* Mobile: show only refresh icon, hide the text — desktop unchanged */
@media (max-width: 600px) {
	/* 隐藏按钮中的文字，仅保留图标 */
	#refreshBtn .refresh-btn__text {
		display: none !important;
	}

	/* 收紧按钮尺寸，只容纳图标 */
	#refreshBtn {
		min-width: 44px !important; /* 保持足够点击面积 */
		height: 44px !important;
		padding: 6px !important;
		left: 12px !important; /* 在小屏上稍微靠内侧 */
		top: 64px !important; /* 微调避开导航 */
		border-radius: 12px !important;
		box-shadow: 0 8px 20px rgba(12,24,40,0.08) !important;
	}

	/* 图标居中并放大以便可见 */
	#refreshBtn .refresh-btn__icon{
		margin-left: 0 !important;
		width: 28px !important;
		height: 28px !important;
		display: inline-flex !important;
		align-items: center !important;
		justify-content: center !important;
	}
	#refreshBtn .refresh-btn__icon .svg{ width:18px !important; height:18px !important; }
}

/* Mobile: move refresh button to bottom-right small floating button, avoid blocking content */
@media (max-width:900px){
	#refreshBtn{ 
		position: fixed !important;
		left: 16px !important;
		top: 88px !important; /* below the top nav */
		right: auto !important;
		bottom: auto !important;
		min-width: 44px !important;
		height: 44px !important;
		padding: 8px !important;
		border-radius: 999px !important;
		box-shadow: 0 10px 26px rgba(0,0,0,0.12) !important;
		opacity: 0.92 !important;
		background: linear-gradient(180deg,#2ba8fb,#1f6fc4) !important;
		z-index: 200000 !important;
		display: inline-flex !important;
		align-items: center !important;
		justify-content: center !important;
		transition: transform 220ms ease, opacity 220ms ease, right 180ms ease;
	}
	#refreshBtn .refresh-btn__text{ display:none !important; }
	#refreshBtn .refresh-btn__icon{ margin-left:0 !important; width:20px !important; height:20px !important; display:flex !important; align-items:center !important; justify-content:center !important; }
	/* hidden state for scrolling */
	#refreshBtn.hidden-on-scroll{ transform: translateX(-48px); opacity: 0 !important; pointer-events: none !important; }
}

/* Force visibility if other rules try to hide or shrink it */
#refreshBtn{ visibility: visible !important; opacity: 1 !important; transform: none !important; }

/* 当 button 同时拥有 .refresh-btn 类时，强制其背景与文本使用 #refreshBtn 的蓝色主题，避免页面中其他 .refresh-btn 规则覆盖造成白色内层 */
#refreshBtn.refresh-btn,
#refreshBtn .refresh-btn{
	background: linear-gradient(180deg,#2ba8fb,#1f6fc4) !important;
	border: 0 !important;
	box-shadow: 0 12px 34px rgba(43,138,229,0.12) !important;
	color: #ffffff !important;
}

/* 强制图标容器透明并使用白色图标，这样图标不会显示成灰色圆点 */
#refreshBtn .refresh-btn__icon{
	background: transparent !important;
	box-shadow: none !important;
	border-radius: 50% !important;
	width: 28px !important;
	height: 28px !important;
	display:inline-flex !important;
	align-items:center !important;
	justify-content:center !important;
	margin-left:10px !important;
}

#refreshBtn .refresh-btn__icon .svg{
	fill: #ffffff !important;
	stroke: #ffffff !important;
	color: #ffffff !important;
	display:block !important;
	margin:0 !important;
}

/* 简单的点击脉冲效果 (伪元素) */
.refresh-btn::after{
	content: '';
	position: absolute;
	pointer-events:none;
	left:0; right:0; top:0; bottom:0;
	border-radius:12px;
	transform: scale(0);
	opacity:0;
	transition: transform 360ms cubic-bezier(.22,.9,.29,1), opacity 260ms ease;
}
.refresh-btn:active::after{ transform: scale(1.05); opacity:0.06; transition:0s; }

/* 文字与图标微调 */
.refresh-btn__text{ font-size:14px; color:var(--accent); }
.refresh-btn__icon{ display:inline-flex; align-items:center; justify-content:center; }

/* Dark mode: invert background / text for the refresh button to keep contrast */
body.dark .refresh-btn{
	--btn-bg: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
	--btn-border: rgba(255,255,255,0.06);
	--accent: #9ecbff;
	color: var(--accent);
}

/* Ensure SVG icons inherit current text color */
.refresh-btn__icon .svg{ fill: currentColor; stroke: currentColor; }

/* Mobile: increase tap target while keeping visual size */

/* Small clickable note below metric value (used under CPU card) */
.metric-note{
	font-size:11px; /* 更小以避免换行 */
	color: #6b778c !important; /* 一直保持灰色 */
	margin-top:6px;
	-webkit-user-select: none;
	user-select: none;
	white-space: nowrap; /* 防止换行 */
	overflow: hidden;
	text-overflow: ellipsis;
	cursor: default; /* 文本本身不表现为链接 */
}
.metric-box.clickable .metric-note{ cursor: default; }
@media (max-width:600px){
	.refresh-btn{ padding:12px 16px; border-radius:12px; }
	.refresh-btn__text{ font-size:15px; }
	.refresh-btn__icon .svg{ width:20px; height:20px; }
}

/* Fix icon centering: remove stray transforms and baseline shifts */
#refreshBtn .refresh-btn__icon{ line-height: 0 !important; }
#refreshBtn .refresh-btn__icon .svg{ display:block !important; margin: 0 auto !important; transform: none !important; }

/* Accessibility: visible focus ring for keyboard users */
.refresh-btn:focus-visible{ box-shadow: 0 0 0 4px rgba(43,138,229,0.12); }

/* Redesigned refresh button styles */
#refreshBtn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
    width: 60px;
    height: 60px;
    border: none;
    border-radius: 50%;
    background: linear-gradient(135deg, #ff5722, #ff9800);
    color: white;
    font-size: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

#refreshBtn:hover {
    transform: scale(1.15);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
}

#refreshBtn:active {
    transform: scale(0.9);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

/* Mobile-specific adjustments */
@media (max-width: 600px) {
    #refreshBtn {
        bottom: 15px;
        right: 15px;
        width: 50px;
        height: 50px;
        font-size: 20px;
    }
}

/* High-specificity modern variant that overrides older desktop/top-left styles */
/* modern-refresh: match site pill/button style on desktop, circular icon on small screens */
button.refresh-btn.modern-refresh,
button#refreshBtn.modern-refresh {
	/* Follow existing site variables for a consistent look */
	--btn-bg: linear-gradient(180deg, #ffffff, #f6fbff);
	--btn-border: rgba(43,138,229,0.12);
	--accent: #1f6fc4;

	position: fixed !important;
	left: 24px !important;
	top: 72px !important;
	right: auto !important;
	bottom: auto !important;
	display: inline-flex !important;
	align-items: center !important;
	gap: 10px !important;
	padding: 10px 14px !important;
	min-width: 120px !important;
	height: auto !important;
	border-radius: 14px !important;
	background: var(--btn-bg) !important;
	color: var(--accent) !important;
	border: 1px solid var(--btn-border) !important;
	box-shadow: 0 10px 30px rgba(12,24,40,0.06) !important;
	font-weight: 700 !important;
	z-index: 11000 !important;
}

/* Uiverse-like skewed pill appearance on wider screens */
@media (min-width: 900px) {
	button.refresh-btn.modern-refresh {
		transform: skew(-21deg);
		background: #fff !important;
		padding: 10px 20px !important;
		width: 140px !important;
		height: 44px !important;
		border-radius: 12px !important;
		display: inline-flex !important;
		align-items: center !important;
		justify-content: center !important;
		font-size: 15px !important;
		font-weight: 700 !important;
		color: var(--accent) !important;
		box-shadow: 0 8px 20px rgba(12,24,40,0.06) !important;
		position: fixed !important;
		left: 24px !important;
		top: 72px !important;
	}

	button.refresh-btn.modern-refresh .refresh-btn__text { display: inline-block !important; transform: skew(21deg); }
	button.refresh-btn.modern-refresh .refresh-btn__icon { margin-left: 8px !important; transform: skew(21deg); }

	/* hover background pseudo-element (dark fill) */
	button.refresh-btn.modern-refresh { position: relative; overflow: hidden; }
	button.refresh-btn.modern-refresh::before{
		content: '';
		position: absolute;
		top: 0; bottom: 0; left: 0; right: 100%;
		background: var(--accent, #1f6fc4);
		opacity: 0;
		z-index: 0;
		transition: all 0.45s ease;
	}
	button.refresh-btn.modern-refresh:hover{ color: #fff !important; }
	button.refresh-btn.modern-refresh:hover::before{ left: 0; right: 0; opacity: 1; }

	/* ensure content sits above pseudo background */
	button.refresh-btn.modern-refresh > * { position: relative; z-index: 1; }
}

button.refresh-btn.modern-refresh .svg { width: 18px !important; height: 18px !important; fill: currentColor !important; }
button.refresh-btn.modern-refresh .refresh-btn__text { color: var(--accent) !important; }
button.refresh-btn.modern-refresh.pressed { transform: translateY(1px) scale(0.98) !important; }
button.refresh-btn.modern-refresh.is-spinning .refresh-btn__icon .svg { animation: spin 720ms linear infinite; transform-origin: 50% 50%; }

@keyframes spin { to { transform: rotate(360deg); } }

@media (max-width:600px){
	/* On mobile, follow site pattern: compact circular icon positioned near nav (left/top) */
	button.refresh-btn.modern-refresh{
		left: 8px !important;
		top: calc(var(--nav-height) + 10px) !important;
		right: auto !important;
		bottom: auto !important;
		width: 44px !important;
		height: 44px !important;
		padding: 0 !important;
		border-radius: 999px !important;
		min-width: 0 !important;
		box-shadow: 0 8px 18px rgba(31,45,61,0.08) !important;
		background: rgba(31,111,196,0.08) !important;
	}
	button.refresh-btn.modern-refresh .refresh-btn__text{ display:none !important; }
	button.refresh-btn.modern-refresh .svg{ width:20px !important; height:20px !important; }
}

/* Strong layout reset to avoid conflicts from other #refreshBtn rules */
button.refresh-btn.modern-refresh,
button#refreshBtn.modern-refresh {
	display: inline-flex !important;
	align-items: center !important;
	justify-content: center !important;
	flex-direction: row !important;
	white-space: nowrap !important;
	writing-mode: horizontal-tb !important; /* force horizontal text flow */
	text-orientation: mixed !important;
	overflow: hidden !important;
}

/* Ensure the visible text is not translucent or duplicated by other rules */
button.refresh-btn.modern-refresh .refresh-btn__text{
	opacity: 1 !important;
	line-height: 1 !important;
	margin: 0 !important;
	padding: 0 6px !important;
}

/* If older rules applied transforms to inner elements, undo them for modern-refresh */
button.refresh-btn.modern-refresh .refresh-btn__text,
button.refresh-btn.modern-refresh .refresh-btn__icon{
	transform: none !important;
}

/* Ensure text flows horizontally and is not affected by vertical-writing rules */
button.refresh-btn.modern-refresh .refresh-btn__text,
#refreshBtn.modern-refresh .refresh-btn__text,
button#refreshBtn.modern-refresh .refresh-btn__text {
	display: inline-block !important;
	writing-mode: horizontal-tb !important;
	text-orientation: mixed !important;
	white-space: nowrap !important;
	letter-spacing: normal !important;
	-webkit-transform: none !important;
	-ms-transform: none !important;
	transform: none !important;
	line-height: 1.1 !important;
	vertical-align: middle !important;
}

/* Fallback: if any ancestor set writing-mode, explicitly reset it here */
button.refresh-btn.modern-refresh, #refreshBtn.modern-refresh { writing-mode: horizontal-tb !important; }

/* Prevent pseudo-element artifacts from previous rules interfering */
button.refresh-btn.modern-refresh::after,
button.refresh-btn.modern-refresh::before{
	backface-visibility: hidden;
}

/* Defensive: hide any pseudo-element content on refresh button that might insert '+' */
button.refresh-btn.modern-refresh::before,
button.refresh-btn.modern-refresh::after,
#refreshBtn::before,
#refreshBtn::after{
	content: none !important;
}

/* Disable common-ligatures and font-feature-settings which sometimes turn sequences into decorative glyphs */
button.refresh-btn.modern-refresh .refresh-btn__text,
#refreshBtn .refresh-btn__text{
	font-variant-ligatures: none !important;
	-webkit-font-feature-settings: "liga" 0, "clig" 0 !important;
	font-feature-settings: "liga" 0, "clig" 0 !important;
	text-rendering: optimizeLegibility; /* keep readable */
}

/* === Defensive final override: force perfect centering and ensure SVG is visible === */
/* This block intentionally has very high specificity and !important to override legacy rules */
#refreshBtn.modern-refresh,
button#refreshBtn.modern-refresh,
button.refresh-btn.modern-refresh {
	display: inline-flex !important;
	align-items: center !important;
	justify-content: center !important;
	gap: 8px !important;
	padding: 8px 14px !important;
	min-width: 44px !important;
	height: auto !important;
	border-radius: 14px !important;
	background: var(--btn-bg) !important;
	color: var(--accent, #1f6fc4) !important;
	-webkit-transform: none !important;
	-ms-transform: none !important;
	transform: none !important;
}

#refreshBtn.modern-refresh .refresh-btn__text,
button.refresh-btn.modern-refresh .refresh-btn__text{
	display: inline-block !important;
	text-align: center !important;
	line-height: 1 !important;
	vertical-align: middle !important;
	margin: 0 !important;
	padding: 0 6px !important;
	color: inherit !important;
}

#refreshBtn.modern-refresh .refresh-btn__icon,
button.refresh-btn.modern-refresh .refresh-btn__icon{
	display: inline-flex !important;
	align-items: center !important;
	justify-content: center !important;
	width: 24px !important;
	height: 24px !important;
	margin: 0 !important;
	background: transparent !important;
}

#refreshBtn.modern-refresh .refresh-btn__icon .svg,
button.refresh-btn.modern-refresh .refresh-btn__icon .svg{
	display: block !important;
	width: 18px !important;
	height: 18px !important;
	fill: currentColor !important;
	stroke: none !important;
	color: inherit !important;
}

/* Make sure text is visible on small screens unless intentionally hidden by design */
@media (max-width:900px){
	/* Mobile: show only icon (hide any visible text) */
	#refreshBtn.modern-refresh .refresh-btn__text,
	button.refresh-btn.modern-refresh .refresh-btn__text,
	/* Also cover plain #refreshBtn or .refresh-btn when present */
	#refreshBtn .refresh-btn__text,
	.refresh-btn .refresh-btn__text { display: none !important; }

	#refreshBtn.modern-refresh .refresh-btn__icon,
	button.refresh-btn.modern-refresh .refresh-btn__icon,
	#refreshBtn .refresh-btn__icon,
	.refresh-btn .refresh-btn__icon { margin-left: 0 !important; }
}

/* Hover micro-interaction for desktop: slight lift + icon rotate/scale */
button.refresh-btn.modern-refresh,
button#refreshBtn.modern-refresh,
#refreshBtn.modern-refresh,
.refresh-btn.modern-refresh,
.refresh-btn {
	transition: transform 200ms cubic-bezier(.2,.9,.2,1), box-shadow 200ms ease !important;
}

button.refresh-btn.modern-refresh:hover,
button#refreshBtn.modern-refresh:hover,
#refreshBtn.modern-refresh:hover,
.refresh-btn.modern-refresh:hover,
.refresh-btn:hover {
	transform: translateY(-4px) scale(1.02) !important;
	box-shadow: 0 18px 40px rgba(31,111,196,0.12) !important;
}

/* Icon subtle rotation/scale on hover */
button.refresh-btn.modern-refresh:hover .refresh-btn__icon .svg,
button#refreshBtn.modern-refresh:hover .refresh-btn__icon .svg,
#refreshBtn.modern-refresh:hover .refresh-btn__icon .svg,
.refresh-btn.modern-refresh:hover .refresh-btn__icon .svg,
.refresh-btn:hover .refresh-btn__icon .svg {
	transform: rotate(18deg) scale(1.06) !important;
	transition: transform 260ms cubic-bezier(.2,.9,.2,1) !important;
}

/* Final defensive override: ensure text hidden on small screens for all variants */
@media (max-width: 600px){
	/* match many selector variations to ensure high specificity */
	#refreshBtn.modern-refresh .refresh-btn__text,
	button#refreshBtn.modern-refresh .refresh-btn__text,
	button.refresh-btn.modern-refresh .refresh-btn__text,
	#refreshBtn .refresh-btn__text,
	.refresh-btn .refresh-btn__text,
	button.refresh-btn .refresh-btn__text {
		display: none !important;
		visibility: hidden !important;
		width: 0 !important;
		margin: 0 !important;
		padding: 0 !important;
		overflow: hidden !important;
		line-height: 0 !important;
		font-size: 0 !important;
	}

	/* Ensure icon remains visible and centered */
	#refreshBtn.modern-refresh .refresh-btn__icon,
	button.refresh-btn.modern-refresh .refresh-btn__icon,
	#refreshBtn .refresh-btn__icon,
	.refresh-btn .refresh-btn__icon {
		margin-left: 0 !important;
		display: inline-flex !important;
		align-items: center !important;
		justify-content: center !important;
		width: 28px !important;
		height: 28px !important;
	}

	/* tighten the button to icon size while keeping tap-target (visual size smaller but clickable) */
	#refreshBtn, button#refreshBtn, button.refresh-btn {
		min-width: 44px !important;
		height: 44px !important;
		padding: 6px !important;
		border-radius: 999px !important;
	}
}

/* === Projects Modal 弹窗样式 === */
.proj-modal{ position: fixed; inset: 0; display: none; align-items: center; justify-content: center; z-index: 100000; }
.proj-modal.is-open{ display: flex; }
.proj-modal__backdrop{ position: absolute; inset: 0; background: rgba(6,11,20,0.55); -webkit-backdrop-filter: blur(2px); backdrop-filter: blur(2px); }
.proj-modal__card{ position: relative; width: min(960px, 92vw); max-height: 86vh; overflow: auto; background: #ffffff; border-radius: 16px; box-shadow: 0 24px 64px rgba(12,24,40,0.22); padding: 18px 20px 18px; border: 1px solid rgba(12,24,40,0.06); }
.proj-modal__header{ display: flex; align-items: center; justify-content: space-between; padding: 4px 6px 10px; border-bottom: 1px solid rgba(12,24,40,0.06); }
.proj-modal__close{ background: transparent; border: none; font-size: 24px; line-height: 1; width: 36px; height: 36px; border-radius: 10px; cursor: pointer; color: #546079; }
.proj-modal__close:hover{ background: rgba(31,111,196,0.08); color: #1f6fc4; }
.proj-modal__body{ padding: 12px 6px 6px; }
.proj-modal__grid{ display: grid; grid-template-columns: 1fr; gap: 12px; }
@media (min-width: 720px){ .proj-modal__grid{ grid-template-columns: 1fr 1fr; } }

.proj-item{ display: flex; gap: 12px; padding: 12px; border: 1px solid rgba(12,24,40,0.08); border-radius: 12px; background: #fafcff; align-items: flex-start; }
.proj-item__thumb{ width: 88px; height: 66px; object-fit: cover; border-radius: 10px; flex: none; background: #eee; }
.proj-item__main{ flex: 1; min-width: 0; }
.proj-item__title{ margin: 0 0 6px; font-size: 16px; }
.proj-item__desc{ margin: 0 0 8px; font-size: 13px; color: #546079; }
.proj-item__tags{ display: flex; flex-wrap: wrap; gap: 6px; margin-bottom: 10px; }
.proj-item__tags span{ font-size: 12px; padding: 4px 8px; background: #eef5fd; color: #1f6fc4; border-radius: 999px; border: 1px solid rgba(31,111,196,0.14); }
.proj-item__actions{ display: flex; gap: 8px; }
.proj-item__btn{ display: inline-flex; align-items: center; justify-content: center; padding: 8px 12px; font-size: 13px; font-weight: 700; color: #fff; background: linear-gradient(180deg,#2ba8fb,#1f6fc4); border-radius: 10px; text-decoration: none; box-shadow: 0 8px 20px rgba(31,111,196,0.16); }
.proj-item__btn:hover{ filter: brightness(1.05); }

/* 暗色模式适配 */
body.dark .proj-modal__backdrop{ background: rgba(0,0,0,0.6); }
body.dark .proj-modal__card{ background: #0f1725; color: #eaf2ff; border-color: rgba(255,255,255,0.06); }
body.dark .proj-modal__header{ border-bottom-color: rgba(255,255,255,0.06); }
body.dark .proj-modal__close{ color: #cfe4ff; }
body.dark .proj-modal__close:hover{ background: rgba(31,111,196,0.18); color: #ffffff; }
body.dark .proj-item{ background: rgba(255,255,255,0.04); border-color: rgba(255,255,255,0.06); }
body.dark .proj-item__desc{ color: #9db1c9; }
body.dark .proj-item__tags span{ background: rgba(31,111,196,0.26); color: #cfe4ff; border-color: rgba(31,111,196,0.35); }

/* === Maintenance Notice Modal 弹窗样式（与项目弹窗风格统一） === */
.notice-modal{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:100001; opacity:0; visibility:hidden; pointer-events:none; }
.notice-modal.is-open{ opacity:1; visibility:visible; pointer-events:auto; }
.notice-modal.is-closing{ opacity:0; visibility:visible; pointer-events:none; }
.notice-modal__backdrop{ position:absolute; inset:0; background: rgba(6,11,20,0.55); -webkit-backdrop-filter: blur(2px); backdrop-filter: blur(2px); }
.notice-modal__card{ position:relative; width:min(420px, 92vw); background:#fff; color:#0f1725; border-radius:16px; box-shadow:0 22px 56px rgba(12,24,40,.22); padding:22px 18px 16px; border:1px solid rgba(12,24,40,.06); text-align:center; }
.notice-modal__close{ position:absolute; right:8px; top:8px; width:34px; height:34px; border-radius:10px; border:0; background:transparent; color:#546079; font-size:22px; cursor:pointer; }
.notice-modal__close:hover{ background: rgba(31,111,196,0.08); color:#1f6fc4; }
.notice-modal__icon{ font-size:38px; line-height:1; margin:4px 0 8px; }
.notice-modal__title{ margin:0 0 8px; font-size:18px; font-weight:800; }
.notice-modal__desc{ margin:0 0 14px; font-size:14px; color:#546079; }
.notice-modal__actions{ display:flex; align-items:center; justify-content:center; gap:10px; }
.notice-modal__btn{ display:inline-flex; align-items:center; justify-content:center; padding:8px 14px; border-radius:10px; border:0; font-weight:700; color:#fff; background:linear-gradient(180deg,#2ba8fb,#1f6fc4); cursor:pointer; box-shadow:0 10px 24px rgba(31,111,196,.14); }
.notice-modal__btn:hover{ filter:brightness(1.05); }

/* 动画与过渡（与项目弹窗一致的节奏） */
@keyframes notice-fade-in{ from{ opacity:0; } to{ opacity:1; } }
@keyframes notice-fade-out{ from{ opacity:1; } to{ opacity:0; } }
@keyframes notice-pop-in{ from{ opacity:0; transform: translateY(8px) scale(.96); } to{ opacity:1; transform: translateY(0) scale(1); } }
@keyframes notice-pop-out{ from{ opacity:1; transform: translateY(0) scale(1); } to{ opacity:0; transform: translateY(8px) scale(.96); } }
.notice-modal.is-open .notice-modal__backdrop{ animation: notice-fade-in 220ms ease both; }
.notice-modal.is-open .notice-modal__card{ animation: notice-pop-in 220ms cubic-bezier(.2,.9,.2,1) both; }
.notice-modal.is-closing .notice-modal__backdrop{ animation: notice-fade-out 200ms ease both; }
.notice-modal.is-closing .notice-modal__card{ animation: notice-pop-out 200ms cubic-bezier(.2,.9,.2,1) both; }

/* 暗色适配 */
body.dark .notice-modal__backdrop{ background: rgba(0,0,0,0.6); }
body.dark .notice-modal__card{ background:#0f1725; color:#eaf2ff; border-color: rgba(255,255,255,0.06); }
body.dark .notice-modal__desc{ color:#9db1c9; }
body.dark .notice-modal__close{ color:#cfe4ff; }
body.dark .notice-modal__close:hover{ background: rgba(31,111,196,0.18); color:#ffffff; }

/* 维护中链接的轻微视觉弱化（仍可点击以弹窗） */
a.is-disabled-link{ cursor: not-allowed; opacity: .82; }

/* === 交互增强：过渡与动画、按钮样式、移动端底部抽屉适配 === */
/* 查看全部按钮：提升可点击性与动效 */
.projects-header .view-all{
		display:inline-flex; align-items:center; gap:8px; padding:6px 10px;
		border:1px solid rgba(31,111,196,0.18); border-radius:10px; text-decoration:none;
		color:#1f6fc4; background:#f6fbff; font-weight:700; transition: transform .18s ease, box-shadow .18s ease, background .18s ease, color .18s ease;
}
.projects-header .view-all:hover{ transform: translateY(-2px); box-shadow:0 10px 24px rgba(31,111,196,.12); background:#fff; color:#1a5fb0; }
.projects-header .view-all:focus-visible{ outline:none; box-shadow:0 0 0 3px rgba(31,111,196,.22); }

/* 以不依赖 display 的显隐方式，实现入场/退场动画 */
.proj-modal{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:100000; opacity:0; visibility:hidden; pointer-events:none; }
.proj-modal.is-open{ opacity:1; visibility:visible; pointer-events:auto; }
.proj-modal.is-closing{ opacity:0; visibility:visible; pointer-events:none; }

/* 动画关键帧 */
@keyframes modal-fade-in{ from{ opacity:0; } to{ opacity:1; } }
@keyframes modal-fade-out{ from{ opacity:1; } to{ opacity:0; } }
@keyframes modal-pop-in{ from{ opacity:0; transform: translateY(8px) scale(.96); } to{ opacity:1; transform: translateY(0) scale(1); } }
@keyframes modal-pop-out{ from{ opacity:1; transform: translateY(0) scale(1); } to{ opacity:0; transform: translateY(8px) scale(.96); } }

/* 桌面端：淡入 + 轻微缩放 */
.proj-modal.is-open .proj-modal__backdrop{ animation: modal-fade-in 220ms ease both; }
.proj-modal.is-open .proj-modal__card{ animation: modal-pop-in 220ms cubic-bezier(.2,.9,.2,1) both; }
.proj-modal.is-closing .proj-modal__backdrop{ animation: modal-fade-out 200ms ease both; }
.proj-modal.is-closing .proj-modal__card{ animation: modal-pop-out 200ms cubic-bezier(.2,.9,.2,1) both; }

/* 移动端：转换为底部抽屉（bottom sheet）并使用上滑/下滑动画 */
@keyframes sheet-in{ from{ transform: translateY(16px); opacity:.98; } to{ transform: translateY(0); opacity:1; } }
@keyframes sheet-out{ from{ transform: translateY(0); opacity:1; } to{ transform: translateY(16px); opacity:.98; } }

@media (max-width: 720px){
	.proj-modal{ align-items:flex-end; }
	.proj-modal__card{ width:100vw; max-width:100vw; max-height:86vh; border-radius:16px 16px 0 0; padding:14px 14px 18px; box-shadow:0 -8px 28px rgba(0,0,0,.3); }
	.proj-modal.is-open .proj-modal__card{ animation: sheet-in 240ms cubic-bezier(.2,.9,.2,1) both; }
	.proj-modal.is-closing .proj-modal__card{ animation: sheet-out 200ms cubic-bezier(.2,.9,.2,1) both; }
	.proj-modal__grid{ grid-template-columns: 1fr; gap:10px; }
	.proj-item{ flex-direction: row; align-items:center; padding:10px; }
	.proj-item__thumb{ width:72px; height:54px; border-radius:10px; }
	.proj-item__title{ font-size:15px; }
	.proj-item__desc{ font-size:12px; }
	.proj-item__btn{ padding:10px 12px; border-radius:12px; }
}

/* === Homepage polish：不改布局，仅做视觉微调 === */
/* 背景淡色渐变云雾（浅色） */
body{
	background-image:
		radial-gradient(900px 600px at 85% -10%, rgba(147,197,253,0.18), transparent 60%),
		radial-gradient(800px 520px at -8% 0%, rgba(255,213,213,0.14), transparent 60%);
	background-attachment: fixed;
}
/* 暗色下的更深渐变 */
body.dark{
	background-image:
		radial-gradient(900px 600px at 85% -10%, rgba(56,116,203,0.22), transparent 60%),
		radial-gradient(800px 520px at -8% 0%, rgba(116,70,153,0.18), transparent 60%);
}

/* 卡片更柔和的阴影与边框 */
.card-widget, .panel-card{
	border: 1px solid rgba(12,24,40,0.06);
	box-shadow: 0 10px 28px rgba(12,24,40,0.06);
	border-radius: 16px;
}
body.dark .card-widget, body.dark .panel-card{
	border-color: rgba(255,255,255,0.06);
	box-shadow: 0 18px 40px rgba(0,0,0,0.35);
}

/* 项目卡轻浮动与缩略图轻微缩放 */
.proj-card{ transition: transform .18s ease, box-shadow .18s ease; border-radius: 14px; overflow: hidden; }
.proj-card:hover{ transform: translateY(-4px); box-shadow: 0 16px 40px rgba(12,24,40,0.12); }
.proj-card .proj-thumb img{ display:block; width:100%; height:auto; transition: transform .26s ease; border-radius: 10px; }
.proj-card:hover .proj-thumb img{ transform: scale(1.03); }

/* 顶部作者区按钮的轻微悬浮反馈 */
.card-info-social-icons .social-icon{ transition: transform .16s ease, box-shadow .16s ease, background .16s ease; }
.card-info-social-icons .social-icon:hover{ transform: translateY(-2px); box-shadow: 0 10px 24px rgba(12,24,40,0.10); background:#ffffff; }

/* 分割线更细腻 */
hr{ border: none; height: 1px; background: linear-gradient(90deg, transparent, rgba(31,111,196,0.22), transparent); }

/* === 留言板样式（与现有卡片风格统一） === */
.card-widget.card-guestbook .guestbook-form{ display:flex; flex-direction:column; gap:10px; margin-top:8px; }
.guestbook-form .gb-row input,
.guestbook-form .gb-row textarea{
	width:100%; box-sizing:border-box; border:1px solid rgba(12,24,40,0.08); background:#ffffff; border-radius:10px; padding:10px 12px; font-size:14px; color:#1f2633; outline:none; transition:border-color 160ms ease, box-shadow 160ms ease;
}
.guestbook-form .gb-row.gb-input, .guestbook-form .gb-row.gb-textarea{ position:relative; }
.guestbook-form .gb-row.gb-input i, .guestbook-form .gb-row.gb-textarea i{ position:absolute; left:10px; top:50%; transform:translateY(-50%); color:#7a8aa3; font-size:14px; pointer-events:none; }
.guestbook-form .gb-row.gb-textarea i{ top:14px; transform:none; }
.guestbook-form .gb-row.gb-input input{ padding-left:32px; }
.guestbook-form .gb-row.gb-textarea textarea{ padding-left:32px; }
.guestbook-form .gb-row textarea{ resize:vertical; min-height:72px; }
.guestbook-form .gb-row input:focus,
.guestbook-form .gb-row textarea:focus{ border-color:#1f6fc4; box-shadow:0 0 0 3px rgba(31,111,196,0.12); }
.guestbook-form .gb-actions{ display:flex; justify-content:flex-end; align-items:center; gap:12px; }
.guestbook-form .gb-submit{ display:inline-flex; align-items:center; justify-content:center; padding:8px 14px; border-radius:10px; border:0; font-weight:700; color:#fff; background:linear-gradient(180deg,#2ba8fb,#1f6fc4); cursor:pointer; box-shadow:0 10px 24px rgba(31,111,196,.14); transition:transform .16s ease, box-shadow .16s ease, filter .16s ease; }
.guestbook-form .gb-submit:hover{ transform:translateY(-2px); box-shadow:0 14px 32px rgba(31,111,196,.18); filter:brightness(1.05); }
.guestbook-form .gb-submit[disabled]{ opacity:.6; cursor:not-allowed; transform:none; box-shadow:none; }
.guestbook-form .gb-anon{ margin:4px 0 6px; }
.guestbook-form .gb-anon-label{ font-size:12px; color:#546079; -webkit-user-select:none; user-select:none; cursor:pointer; display:inline-flex; align-items:center; }
.guestbook-form .gb-anon-label input{ margin-right:6px; vertical-align:middle; }
.guestbook-form input.is-disabled{ opacity:.7; }
.guestbook-list{ list-style:none; margin:10px 0 0; padding:0; display:flex; flex-direction:column; gap:10px; }
.guestbook-item{ display:flex; gap:10px; align-items:flex-start; padding:10px; border:1px solid rgba(12,24,40,0.08); background:#fafcff; border-radius:10px; overflow:hidden; }
.guestbook-item .gb-avatar{ width:32px; height:32px; border-radius:50%; background:#e6f0ff; display:inline-flex; align-items:center; justify-content:center; font-weight:700; color:#1f6fc4; margin-top:2px; }
.guestbook-item .gb-main{ flex:1; min-width:0; }
.guestbook-item .gb-head{ display:flex; align-items:center; gap:8px; font-size:13px; color:#546079; margin-bottom:4px; flex-wrap:wrap; }
.guestbook-item .gb-name{ font-weight:700; color:#1b2a41; }
.guestbook-item .gb-time{ opacity:.8; }
.guestbook-item .gb-region{ opacity:.8; }
.guestbook-item .gb-head > .gb-name,
.guestbook-item .gb-head > .gb-time,
.guestbook-item .gb-head > .gb-region{ flex:0 1 auto; min-width:0; }
.guestbook-item .gb-time{ opacity:.8; white-space:nowrap; }
.guestbook-item .gb-region{ opacity:.8; white-space:nowrap; }
.guestbook-item .gb-head .gb-del{ display:none; }
.guestbook-item .gb-text .gb-del{ display:inline; margin-left:8px; background:transparent; border:0; color:#c0392b; font-size:12px; cursor:pointer; padding:0 4px; border-radius:6px; vertical-align:baseline; }
.guestbook-item .gb-text .gb-del:hover{ background:#ffe6e3; }
.guestbook-item .gb-text{ font-size:14px; color:#1b2a41; word-break:break-word; }

/* 暗色适配 */
body.dark .guestbook-form .gb-row input,
body.dark .guestbook-form .gb-row textarea{ background:rgba(255,255,255,0.04); border-color:rgba(255,255,255,0.08); color:#eaf2ff; }
body.dark .guestbook-item{ background:rgba(255,255,255,0.04); border-color:rgba(255,255,255,0.06); }
body.dark .guestbook-item .gb-name{ color:#eaf2ff; }
body.dark .guestbook-item .gb-text{ color:#eaf2ff; }

/* Desktop 微调：更紧凑的排版与更小字号 */
@media (min-width: 1024px){
	.guestbook-item{ padding:6px 8px; border-radius:8px; gap:8px; }

/* 让 <theme-button> 随行内布局并与文字垂直对齐；尺寸由组件内部控制 */
.setting-switch theme-button{ display:inline-block; vertical-align: middle; }
	.guestbook-item .gb-avatar{ width:26px; height:26px; font-size:12px; }
	.guestbook-item .gb-head{ font-size:11.5px; gap:6px; margin-bottom:2px; }
	.guestbook-item .gb-text{ font-size:12.5px; }
	.guestbook-list .guestbook-item + .guestbook-item{ margin-top:8px; }
}
/* 默认隐藏移动端提示小字（仅在移动端媒体查询内显示） */
.gb-hint-mobile{ display:none; }

/* 桌面端：禁用留言板文本框的拖动角标（保持移动端可按需自适应高度） */
@media (min-width: 721px){
	.guestbook-form .gb-row textarea{ resize: none; }
	.card-guestbook .gb-toggle{ display:none !important; }
}

/* 移动端：留言板标题右侧展开/收起按钮 + 折叠动画 */
@media (max-width: 720px){
	.card-guestbook .item-headline{
		display:flex;
		align-items:center;
		gap:8px;
	}
	.card-guestbook .item-headline .gb-title{
		flex:1;
	}
	.card-guestbook .gb-hint-mobile{ display:block; font-size:12px; color:#6b7280; margin:6px 2px 0; }
	body.dark .card-guestbook .gb-hint-mobile{ color:#9aa6b2; }
		.card-guestbook .gb-toggle{
			-webkit-appearance:none;
			appearance:none;
		border:1px solid rgba(15,23,42,0.12);
		background:#fff;
		width:28px; height:28px; border-radius:8px;
		display:inline-flex; align-items:center; justify-content:center;
		cursor:pointer;
		transition: background .24s ease, border-color .24s ease;
		pointer-events:auto; position:relative; z-index:1;
	}
	.card-guestbook .gb-toggle::after{
		content:'\25BE'; /* ▼ */
		font-size:14px; line-height:1;
		transition: transform .24s ease;
	}
	.card-guestbook.is-open .gb-toggle::after{ transform: rotate(180deg); }
	body.dark .card-guestbook .gb-toggle{ background:rgba(255,255,255,0.06); border-color:rgba(255,255,255,0.12); color:#eaf2ff; }

	/* 折叠容器动画：使用 max-height + opacity，避免高度计算兼容性问题 */
	.card-guestbook .gb-collapsible{ overflow:hidden; max-height:0; opacity:0; transition: max-height .32s cubic-bezier(.2,.8,.2,1), opacity .24s ease; }
	.card-guestbook.is-open .gb-collapsible{ max-height:1600px; opacity:1; }
	/* 展开后隐藏提示小字 */
	.card-guestbook.is-open .gb-hint-mobile{ display:none; }
}


